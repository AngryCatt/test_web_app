<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | ssk</title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
  </head>
  <body>
    <button onclick='permission();'>Request orientation permission</button>
    <script>
        function permission () {
            if ( typeof( DeviceMotionEvent ) !== "undefined" && typeof( DeviceMotionEvent.requestPermission ) === "function" ) {
                // (optional) Do something before API request prompt.
                DeviceMotionEvent.requestPermission()
                    .then( response => {
                    // (optional) Do something after API prompt dismissed.
                    if ( response == "granted" ) {
                      window.location.pathname = '/test_web_app/game.html';
                    }
                })
                    .catch( console.error )
            } else {
                alert( "DeviceMotionEvent is not defined" );
                window.location.pathname = '/test_web_app/game.html';
            }
        }
    </script>
  </body>
</html>
